.edifly-aspect-ratio {
  position: relative;
  width: 100%;
  max-width: 100%;
  overflow: hidden;
  border-radius: var(--edifly-border-radius-base, 6px);
}

.edifly-aspect-ratio__spacer {
  width: 100%;
  height: 0;
  pointer-events: none;
}

.edifly-aspect-ratio__content {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
}

/* Content styling helpers */
.edifly-aspect-ratio__content > * {
  max-width: 100%;
  max-height: 100%;
}

.edifly-aspect-ratio__content img,
.edifly-aspect-ratio__content video {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

.edifly-aspect-ratio__content iframe {
  width: 100%;
  height: 100%;
  border: none;
}

/* Variants for different content types */
.edifly-aspect-ratio--contain .edifly-aspect-ratio__content img,
.edifly-aspect-ratio--contain .edifly-aspect-ratio__content video {
  object-fit: contain;
}

.edifly-aspect-ratio--fill .edifly-aspect-ratio__content img,
.edifly-aspect-ratio--fill .edifly-aspect-ratio__content video {
  object-fit: fill;
}

.edifly-aspect-ratio--scale-down .edifly-aspect-ratio__content img,
.edifly-aspect-ratio--scale-down .edifly-aspect-ratio__content video {
  object-fit: scale-down;
}

/* Placeholder styling */
.edifly-aspect-ratio__placeholder {
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: var(--edifly-color-bg-secondary, #fafafa);
  color: var(--edifly-color-text-tertiary, #00000040);
  font-size: var(--edifly-font-size-sm, 14px);
  border: 1px dashed var(--edifly-color-border, #d9d9d9);
  border-radius: var(--edifly-border-radius-base, 6px);
  width: 100%;
  height: 100%;
  text-align: center;
  transition: all var(--edifly-transition-base, 0.2s ease-in-out);
}

.edifly-aspect-ratio__placeholder:hover {
  background-color: var(--edifly-color-bg-hover, #f0f0f0);
  border-color: var(--edifly-color-primary, #1890ff);
  color: var(--edifly-color-text-secondary, #00000073);
}

/* Common aspect ratio utility classes */
.edifly-aspect-ratio--square {
  aspect-ratio: 1;
}

.edifly-aspect-ratio--portrait-3-4 {
  aspect-ratio: 3 / 4;
}

.edifly-aspect-ratio--portrait-2-3 {
  aspect-ratio: 2 / 3;
}

.edifly-aspect-ratio--portrait-9-16 {
  aspect-ratio: 9 / 16;
}

.edifly-aspect-ratio--landscape-4-3 {
  aspect-ratio: 4 / 3;
}

.edifly-aspect-ratio--landscape-3-2 {
  aspect-ratio: 3 / 2;
}

.edifly-aspect-ratio--landscape-16-9 {
  aspect-ratio: 16 / 9;
}

.edifly-aspect-ratio--landscape-21-9 {
  aspect-ratio: 21 / 9;
}

.edifly-aspect-ratio--golden {
  aspect-ratio: 1.618;
}

/* Support for browsers without aspect-ratio */
@supports not (aspect-ratio: 1) {
  .edifly-aspect-ratio--square .edifly-aspect-ratio__spacer {
    padding-bottom: 100%;
  }
  
  .edifly-aspect-ratio--portrait-3-4 .edifly-aspect-ratio__spacer {
    padding-bottom: 133.33%;
  }
  
  .edifly-aspect-ratio--portrait-2-3 .edifly-aspect-ratio__spacer {
    padding-bottom: 150%;
  }
  
  .edifly-aspect-ratio--portrait-9-16 .edifly-aspect-ratio__spacer {
    padding-bottom: 177.78%;
  }
  
  .edifly-aspect-ratio--landscape-4-3 .edifly-aspect-ratio__spacer {
    padding-bottom: 75%;
  }
  
  .edifly-aspect-ratio--landscape-3-2 .edifly-aspect-ratio__spacer {
    padding-bottom: 66.67%;
  }
  
  .edifly-aspect-ratio--landscape-16-9 .edifly-aspect-ratio__spacer {
    padding-bottom: 56.25%;
  }
  
  .edifly-aspect-ratio--landscape-21-9 .edifly-aspect-ratio__spacer {
    padding-bottom: 42.86%;
  }
  
  .edifly-aspect-ratio--golden .edifly-aspect-ratio__spacer {
    padding-bottom: 61.8%;
  }
}

/* Responsive behavior */
@media (max-width: 576px) {
  .edifly-aspect-ratio {
    border-radius: var(--edifly-border-radius-sm, 4px);
  }
}

/* Dark theme support */
[data-theme="dark"] .edifly-aspect-ratio__placeholder {
  background-color: var(--edifly-color-bg-secondary, #1f1f1f);
  border-color: var(--edifly-color-border, #424242);
  color: var(--edifly-color-text-tertiary, #ffffff40);
}

[data-theme="dark"] .edifly-aspect-ratio__placeholder:hover {
  background-color: var(--edifly-color-bg-hover, #262626);
  border-color: var(--edifly-color-primary, #1890ff);
  color: var(--edifly-color-text-secondary, #ffffff73);
}